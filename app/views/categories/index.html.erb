<div class="container pt-4">
    <h1 id="logo"><svg xmlns="http://www.w3.org/2000/svg" width="70" height="100" fill="currentColor" class="bi bi-bookmark-plus-fill" viewBox="0 0 16 16">
    <path fill-rule="evenodd" d="M2 15.5V2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v13.5a.5.5 0 0 1-.74.439L8 13.069l-5.26 2.87A.5.5 0 0 1 2 15.5zm6.5-11a.5.5 0 0 0-1 0V6H6a.5.5 0 0 0 0 1h1.5v1.5a.5.5 0 0 0 1 0V7H10a.5.5 0 0 0 0-1H8.5V4.5z"/>
    </svg></h1>

    <div class="mt-4">
        <form class="form-inline mb-5">
          <%= form_with(url:categories_path, method: :get, local: :true, class: 'form-inline') do %>
        <%= text_field_tag :q, "", class: 'form-control mr-sm-1' %>
        <%= submit_tag( "Buscar", Class: 'btn btn-outline-success my-1 my-sm-0 ' )%>
        <%end%>
        </form>
    </div>
    

    <table class="table  ">
        <thead class="thead-dark">
            <tr>
            <th scope="col">Id</th>
            <th scope="col">Nombre</th>
            <th scope="col">PÃºblica</th>
            <th scope="col">Sub Categorias</th>
            <th scope="col" colspan="3"></th>
            </tr>
        </thead>
        <tbody>
            <% @categories.each do |c| %>
                <tr>
                    <td><%= c.id %></td>
                    <td><%= c.name %></td>
                    <td><%= c.public_state %></td>
                     <td><%= c.sub_categories.pluck(:name).join(", ") %></td>
                    <td><%= link_to  'Ver', category_path(c), class:"btn btn-primary"%></td>
                    <td><%= link_to  'Editar', edit_category_path(c), class:"btn btn-warning" %></td>
                    <td><%= link_to  'Borrar', category_path(c), class:"btn btn-danger", method: :delete, data: { confirm: 'Estas seguro que quieres borrar esta categoria?'} %></td>
                </tr>
            <% end %>
        </tbody>
    </table>
    
    <div>
        <%= link_to 'Crear nuevo', new_category_path, class: 'btn btn-primary'%>
    </div>
</div>
